---
title: 计算机网络-IP地址学习笔记
comments: true
tags:
  - IP
  - 学习笔记
categories:
  - 计算机网络
abbrlink: e0c3c8a6
date: 2019-05-14 23:34:17
updated:
---
## IP地址

### 什么是IP地址

IP地址(Internet Protocol Address),是一种在Internet上的主机统一编址的地址格式。它为互联网上的每一个网络和每一台主机分配一个逻辑地址。

IP地址分为:IPv4以及IPv6
![](https://s1.51cto.com/images/blog/201805/04/01b93a1d0acac52cc0bd4878696d4098.png)

### IP地址的格式和表示

#### IP地址的格式

IP地址由32位二进制数组成，每8位（每字节）分成一段，中间用“.”隔开。
为了方便表示，通常把每一段的二进制转换成对应十进制表示
![](https://s1.51cto.com/images/blog/201805/03/fea3fac8ba890854dbfdde34926e04ac.png)

#### IP地址的组成

IP地址由 网络位 与 主机位 组成
同一网段内的计算机网络位相同，主机位不重复。
![](https://s1.51cto.com/images/blog/201805/03/ac3c6598dd24b25dc9b01bb60b15d725.png)

我们把网络号相同的主机称之为本地网络，网络号不同的主机称之为远程网络主机，本地网络的主机可以直接相互通信；远程网络中的主机要相互通信必须通过本地网关来传递转发数据。

### IP地址分类

IP地址分为A,B,C,D,E 五类

IP地址分类| 网络地址规则 | 地址范围 | 默认子网掩码 | 单个地址最大主机数量|
|:----:| :----: | :----: | :----: | :----: | :----: |
|A类地址|第一个字节为网络位且最高位固定是0|1.0.0.0-126.255.255.255|255.0.0.0 简写/8 | 256\*256\*256-2|
|B类地址|第一、二个字节为网络位且最高位固定是10|128.0.0.1-191.255.255.255|255.255.0.0 简写/16|256\*256-2|
|C类地址|第一、二、三个字节为网络位且最高位固定是110|192.0.0.1-223.255.255.255|255.255.255.0 简写/24|256-2
|D类地址|不分网络位，主机位，第一个字节最高位固定是1110|224.0.0.1-239.255.255.255| 无子网掩码| 无
|E类地址|部分网络位，主机位，第一个字节最高位固定是11110|240.0.0.0-255.255.255.255|240.0.0.0-255.255.255.254作为保留地址，用于internet实验,255.255.255.255为广播地址

ps:-2 是因为 主机位全为0，为网络地址,主机位全为1是该网段的广播地址

![](https://s1.51cto.com/images/blog/201805/04/d8edafebca5bbbf1d5bb35cef4156026.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)

### 保留的特殊IP地址

1. 主机位为0的地址 ：特指某个网段，比如192.168.10.0/24 指的是192.168.10.0网段
2. 主机位全为1的地址：特指该网段中的全部主机， 比如:192.168.10.255
3. 127.0.0.1 是本地还回地址，指本机地址，一般用来测试使用
4. 169.254.0.0~169.254.255.255 当DHCP获取失败时，自动获取该网段地址
5. 0.0.0.0 计算机的IP地址和网络中的其他计算机地址冲突
![](https://s1.51cto.com/images/blog/201805/04/e664d181be8697229b52f2af236afae7.png)

### 公网和私网IP地址

公网：公有地址和管理Inter NIC 负责。各级ISP使用的公用地址都需要向INter NIC提出申请，由Inter NiC统一发放，保证地址块不冲突

私网IP地址：
* A类:10.0.0.0 /8 保留一个A类网络
* B类:172.16.0.0~172.31.0.0 /16 保留了 16个B类网络
* C类:192.168.0.0~192.168.255.0 保留了256个C类网络

---

## 子网掩码

### 子网掩码的概念

1. 子网掩码又叫 网络掩码，地址掩码，必须结合IP地址一起对应使用。
2. 只有通过子网掩码，才能表明一台主机所在子网与其子网的关系，使网络正常工作。
3. 子网掩码和IP地址做“与”运算，分离出IP地址中的网络地址和主机地址，用于判断该IP地址是在本地网络上，还是远程网络上。
4. 子网掩码还用于将网络进一步划分为若干子网。

### 子网掩码的组成

1. 子网掩码是由长度为32位二进制数组成的一个地址
2. 子网掩码32位于IP地址32位响应对应，IP地址如果某位是网络位，则子网掩码为1；IP地址如果某位是主机位，对应则为0

### 子网掩码的表示方法

1. 点分十进制表示
二进制转换成十进制，每8位用点隔开
11111111.11111111.11111111.00000000 =》 255.255.255.0

2. CIDR斜线表示
IP地址/n

n为1到32的数字，表示子网掩码中网络号二进制位1的数量。

### 子网掩码的作用

子网掩码可以分离出IP地址中的网络地址和主机地址，两台主机通信，首先要判断是否处在同一网段，即网络地址是否相同。相同，那么可以吧数据包直接发送到目标主机，否则就需要路由网关将数据包转发到目的地。

例如：
A主机要与B主机通信，A和B各自的IP地址与A主机的子网掩码进行And与运算

如果相同，则说明AB两台主机在同一个网段，可以通过ARP广播发现B的MAC地址，进行通信

如果结果不同，ARP广播会在本地网关终结，这是A会把发送给B的数据包先发送给本地网关，网关再根据B主机的IP地址来查询路由表，再将数据包继续传递转发，最终送到目的地B

### 子网掩码的分类

1. 缺省子网掩码
即未划分子网，对应的网络号的位置都是1，主机号都是0

2. 自定义子网掩码
将一个网络划分子网后，把原来的主机号位置的一部分给了子网号，余下的才是给了子网的主机号

### 资料

1. https://www.jianshu.com/p/08c2e5623cec
2. https://bbs.pediy.com/thread-218374.htm
3. https://www.zhihu.com/question/31766172
4. https://blog.51cto.com/6930123/2112403
5. https://blog.51cto.com/6930123/2112403
